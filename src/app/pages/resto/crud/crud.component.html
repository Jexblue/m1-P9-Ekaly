<div *ngIf="init" class="d-flex justify-content-center">
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>
<div class="container-xl">
  <div class="table-responsive">
    <div class="table-wrapper">
      <div class="table-title">


          <div >
            <div style="display: flex; justify-content: space-between;">
            <diV>
              <a class="btn btn-success" (click)="openModal(ajout)" data-toggle="modal">Ajouter</a>
            </diV>


          </div>
        </div>
      </div>
      <table class="table table-hover">
        <thead>
          <tr>

            <th>Nom</th>
            <th>Prix</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of data |  paginate : {itemsPerPage: nbrperpage, currentPage: p, totalItems: total}">

            <td>{{item.nomPlat}}</td>
            <td>{{item.coutPlat}}</td>
            <td>
              <a style="cursor: pointer;"  class="edit" data-toggle="modal"  (click)="editModal(item,modif)" >
                <i class="fas fa-edit text-warning" title="Edit"></i></a>
              <a  style="cursor: pointer; margin-left: 10px;" class="delete" data-toggle="modal">
                <i (click)="confirmer(item)" class="fas fa-trash text-danger" data-toggle="tooltip" title="Delete"></i></a>
            </td>
          </tr>
        </tbody>

      </table>
      <pagination-controls [hidden]="show"  class="pagi" (pageChange)="p = $event ;"></pagination-controls>

         </div>
  </div>
</div>

<ng-template #ajout>
  <div class="modal-header">
    <h4 class="modal-title">Ajout Plat</h4>
    <button type="button" class="close" aria-label="Close" (click)='modalRef.hide()'>
      <span aria-hidden="true">x</span>
    </button>
  </div>
  <form>
  <div class="modal-body">

      <label>Nom</label>
      <input [(ngModel)]="sakafo.nomPlat" name="nom" class="form-control">
      <label>Prix</label>
      <input  [(ngModel)]="sakafo.coutPlat" name="adresse" class="form-control">

    </div>
    <div class="modal-footer">
      <button  (click)="insert() ; modalRef.hide()" class="btn btn-primary">ajouter</button>
    </div>
    </form>
</ng-template>

<ng-template #modif>
  <div class="modal-header">
    <h4 class="modal-title">Modifier</h4>
    <button type="button" class="close" aria-label="Close" (click)='modalRef.hide()'>
      <span aria-hidden="true">x</span>
    </button>
  </div>
  <form>
  <div class="modal-body">

      <label>Nom</label>
      <input [(ngModel)]="plat.nomPlat"  name="nom" class="form-control">
      <label>Prix</label>
      <input [(ngModel)]="plat.coutPlat" name="adresse" class="form-control">

    </div>
    <div class="modal-footer">
      <button class="btn btn-primary">modifier</button>
    </div>
    </form>


</ng-template>
